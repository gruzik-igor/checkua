Service "Photo simple 1.1"
for WhiteLion 1.0

Author: Ostap Matskiv
Date 1.1 : 19.05.2014
Date 1.0 : 15.05.2014

Description: Фотогалерея з підтримкою альбомів. Мультимовний.
Options:
	resize		(0, 1)		при заливанні фото на сервер здійсювати створення мініатюр, зміну розмірів
	folder		(текст)		назва папки у IMG_PATH, куди будуть заливатися фото, створюватися альбоми
	canAdd		(1, 2, 4) 	мінімальний рівень доступу (згідно wl_user_types) для додавання фото, створення альбомів

Path photos after uploading:
	IMG_PATH / folder / id_album / id_photo . jpg

SEO (name, title, keywords, description) for albums use wl_ntkd (content:id_album)

Tables:
	s_photo_albums			перелік альбомів
		`id` int(11) AUTO_INCREMENT,
		`link` text,		повна адреса альбому (включно з ід альбому)
		`photo` int(11),	ід заставки альбому. -1 - відсутнє, 0 - власне, номер ід зображення із s_photos
		`active` tinyint(1),	поточний стан альбому (0 - відключено, 1 - активний)
		`user` int(11),		хто додав
		`date` int(11)		дата додачі (The Unix Epoch)
	s_photos 			перелік фото у альбомах
		`id` int(11) AUTO_INCREMENT,
		`album` int(11),	ід альбому
		`user` int(11),		хто додав
		`name` text,		назва фотографії
		`date` int(11)		дата додачі (The Unix Epoch)
	s_photo_size 			зміна розмірів зображення (якщо активно option:resize)
		`id` int(11) AUTO_INCREMENT,
		`active` tinyint(1),	поточний стан (0 - відключено, 1 - активний)
		`name` text,		назва мініатюри
		`prefix` varchar(2),	префікс мініатюри, без розділювача
		`type` tinyint(1),	тип мініатюри: 1 resize, 2 preview
		`height` int(11),	висота мініатюри
		`width` int(11)		ширина мініатюри

Need to work: jquery-1.8.3.js+, assets/ blueimp, fancybox

Public links:
	/index() - main page, list of active albums sorted by `position`
	/index()/id - link - detal album with photos
	/all - list of all albums sorted by `position`
	/add_album - form add album
	/edit/id - form edit album by id album

Private (work) links:
	/create_album - procedure to creating new album
	/save_album - procedure to save album
	/setAlbumPhoto (ajax) - procedure, which set some photo (by id photo) as main album photo
	/upload (ajax) - function which take photo/s and add it to album
	/savephoto (private) - function which save and make resize photo
	/save_photo (ajax) - save description of photo
	/delete_photo (ajax) - delete photo
	/delete_album - delete album and all photos
	/change_position - change position of album

Versions:
	1.0 	Основа модулю, включно із ajax завантаженням фотографій, зміною головної фотографії альбому
	1.1 	Додано можливість змінювати порядок відображення альбомів, повністю перероблено функцію видалення альбому (delete_album) із всіма фотографіями (зменшена кількість запитів до БД, процедура видалення фотографій)